# yandex-alice-caldav-reminder

## О проекте
Навык для алисы, который запускается в функции Yandex Cloud Functions.

Функция подключается к серверу caldav и получает объекты событий из него.
Возвращает строку с информацией о ближайших событиях (+- 10 минут от текущего времени).

На текущий момент (2024-03-25) сервис бесплатный для навыков Алисы [(см. документацию)](https://yandex.ru/dev/dialogs/alice/doc/deploy-ycloud-function.html).

## Схема работы и настройка
Схема работы следующая:
1) Надо настроить навык по инструкции отсюда [(см. документацию)](https://yandex.ru/dev/dialogs/alice/doc/quickstart-about.html).
2) В Yandex Cloud Functions перенести файлы `index.py`, `CalDavCalendar.py` и `requirements.txt`.
3) Переменные окружения с параметрами подключения (шаблон в файле `.env.example`) надо внести на странице создания новой функции.
4) При сборке функции YCF автоматически установит зависимости из файла `requirements.txt`.
5) В консоли настройки навыка надо указать собранную функцию в качестве Backend.
6) В консоли настройки навыка надо выбрать приватный навык, чтобы не проходить модерацию.


После прохождения автоматической модерации (5-10 минут) в приложении умный дом надо создать сценарий с триггером, который будет запускать команду "Запусти навык {название навыка, как указано в настройках}". После этого навык будет работать.




